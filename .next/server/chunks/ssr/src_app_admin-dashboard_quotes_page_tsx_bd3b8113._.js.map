{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/viengsone/Documents/slkwebsite-next/src/app/admin-dashboard/quotes/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\nimport { \n  DollarSign, Plus, Search, Filter, Mail, Phone, Building2, User, FileText, CheckCircle, XCircle,  \n  Edit, Trash2, Save, X, Calendar, Clock, Star, ArrowUpRight, ArrowDownRight, UserPlus, MessageSquare, MapPin, Eye, Download\n} from 'lucide-react';\nimport { useDatabase } from '../../../contexts/DatabaseContext';\nimport { useAuth } from '../../../contexts/AuthContext';\n\ninterface Quote {\n  id: string;\n  name: string;\n  email: string;\n  phone?: string;\n  company?: string;\n  project_type?: string;\n  budget_range?: string;\n  timeline?: string;\n  location?: string;\n  description?: string;\n  preferred_contact?: string;\n  status: string;\n  priority?: string;\n  source?: string;\n  assigned_to?: string;\n  follow_up_date?: string;\n  lead_score?: number;\n  estimated_value?: number;\n  quoted_amount?: number;\n  win_probability?: number;\n  assigned_user?: { id: string; name: string };\n  project_details?: {\n    type?: string;\n    budgetRange?: string;\n    timelineCategory?: string;\n    location?: string;\n    description?: string;\n  };\n  sales_tracking?: {\n    assignedTo?: string;\n    salesStage?: string;\n    winProbability?: number;\n  };\n  customer_profile?: {\n    fullName: string;\n    companyName?: string;\n    leadScore?: number;\n  };\n  created_at?: string;\n  updated_at?: string;\n}\n\ninterface User {\n  id: string;\n  name: string;\n  role: string;\n}\n\ninterface FormData {\n  name: string;\n  email: string;\n  phone: string;\n  company: string;\n  project_type: string;\n  budget_range: string;\n  timeline: string;\n  location: string;\n  description: string;\n  preferred_contact: string;\n  status: string;\n  priority: string;\n  source: string;\n  assigned_to: string;\n  follow_up_date: string;\n  lead_score: string;\n  estimated_value: string;\n  quoted_amount: string;\n  win_probability: string;\n}\n\nconst QuoteManagement: React.FC = () => {\n  const { getAllRecords, createRecord, updateRecord, deleteRecord } = useDatabase();\n  const { user } = useAuth();\n  \n  const [isClient, setIsClient] = useState(false);\n  const [users, setUsers] = useState<User[]>([]);\n  const [quotes, setQuotes] = useState<Quote[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [projectTypeFilter, setProjectTypeFilter] = useState('all');\n  const [assigneeFilter, setAssigneeFilter] = useState('all');\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [editingQuote, setEditingQuote] = useState<Quote | null>(null);\n  const [selectedQuote, setSelectedQuote] = useState<Quote | null>(null);\n  const [viewMode, setViewMode] = useState<'list' | 'detail'>('list');\n  const [deleteConfirmModalOpen, setDeleteConfirmModalOpen] = useState(false);\n  const [quoteToDelete, setQuoteToDelete] = useState<Quote | null>(null);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  useEffect(() => { setIsClient(true); }, []);\n\n  const [formData, setFormData] = useState<FormData>({\n    name: '',\n    email: '',\n    phone: '',\n    company: '',\n    project_type: '',\n    budget_range: '',\n    timeline: '',\n    location: '',\n    description: '',\n    preferred_contact: 'email',\n    status: 'new',\n    priority: 'medium',\n    source: 'website',\n    assigned_to: '',\n    follow_up_date: '',\n    lead_score: '50',\n    estimated_value: '',\n    quoted_amount: '',\n    win_probability: '30'\n  });\n\n  const projectTypes = [\n    'residential', 'commercial', 'industrial', 'renovation', 'waterproofing', 'flooring', 'materials', 'consultation'\n  ];\n  const budgetRanges = [\n    'under-10000', '10000-25000', '25000-50000', '50000-100000', '100000-250000', '250000-500000', 'over-500000'\n  ];\n  const timelineOptions = [\n    'asap', '1-3months', '3-6months', '6-12months', 'over-1year', 'flexible'\n  ];\n\n  // Always fetch fresh data\n  const loadData = async () => {\n    if (!isClient) return;\n    setIsLoading(true);\n    try {\n      const [quotesData, usersData] = await Promise.all([\n        getAllRecords('quotes'),\n        getAllRecords('users')\n      ]);\n      setQuotes(Array.isArray(quotesData) ? quotesData : []);\n      setUsers(Array.isArray(usersData) ? usersData : []);\n      console.log('Quotes state updated:', quotesData);\n    } catch (error) {\n      setError('Failed to load quotes. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (isClient) loadData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isClient]);\n\n  const handleDeleteClick = (quote: Quote) => {\n    setQuoteToDelete(quote);\n    setDeleteConfirmModalOpen(true);\n  };\n\n  const confirmDelete = async () => {\n    if (!quoteToDelete) return;\n    try {\n      setIsLoading(true);\n      await deleteRecord(quoteToDelete.id, 'quotes');\n      setSuccess('Quote deleted successfully');\n      await loadData();\n      setDeleteConfirmModalOpen(false);\n      setQuoteToDelete(null);\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      setError('Failed to delete quote. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleFormChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n    if (error) setError('');\n  };\n\n  const handleSubmitCreate = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      setIsLoading(true);\n      setError('');\n      if (!formData.name.trim() || !formData.email.trim()) {\n        setError('Name and email are required');\n        setIsLoading(false);\n        return;\n      }\n      const quoteData = {\n        ...formData,\n        follow_up_date: formData.follow_up_date ? formData.follow_up_date : null,\n        lead_score: parseInt(formData.lead_score) || 50,\n        estimated_value: formData.estimated_value ? parseFloat(formData.estimated_value) : null,\n        quoted_amount: formData.quoted_amount ? parseFloat(formData.quoted_amount) : null,\n        win_probability: parseInt(formData.win_probability) || 30,\n        customer_profile: {\n          fullName: formData.name.trim(),\n          companyName: formData.company?.trim() || null,\n          leadScore: parseInt(formData.lead_score) || 50\n        },\n        project_details: {\n          type: formData.project_type || null,\n          budgetRange: formData.budget_range || null,\n          estimatedBudget: formData.estimated_value ? parseFloat(formData.estimated_value) : null,\n          timelineCategory: formData.timeline || null,\n          location: formData.location?.trim() || null,\n          description: formData.description?.trim() || null\n        },\n        sales_tracking: {\n          assignedTo: formData.assigned_to || null,\n          salesStage: formData.status || 'new',\n          winProbability: parseInt(formData.win_probability) || 30\n        }\n      };\n      await createRecord('quotes', quoteData);\n      setSuccess('Quote created successfully');\n      setShowCreateForm(false);\n      await loadData();\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      setError('Failed to create quote. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleCreateClick = () => {\n    setShowCreateForm(true);\n    setEditingQuote(null);\n    setFormData({\n      name: '',\n      email: '',\n      phone: '',\n      company: '',\n      project_type: '',\n      budget_range: '',\n      timeline: '',\n      location: '',\n      description: '',\n      preferred_contact: 'email',\n      status: 'new',\n      priority: 'medium',\n      source: 'website',\n      assigned_to: '',\n      follow_up_date: '',\n      lead_score: '50',\n      estimated_value: '',\n      quoted_amount: '',\n      win_probability: '30'\n    });\n    setError('');\n  };\n\n  const handleSubmitEdit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!editingQuote) return;\n    try {\n      setIsLoading(true);\n      setError('');\n      if (!formData.name.trim() || !formData.email.trim()) {\n        setError('Name and email are required');\n        setIsLoading(false);\n        return;\n      }\n      const quoteData = {\n        ...formData,\n        follow_up_date: formData.follow_up_date ? formData.follow_up_date : null,\n        lead_score: parseInt(formData.lead_score) || 50,\n        estimated_value: formData.estimated_value ? parseFloat(formData.estimated_value) : null,\n        quoted_amount: formData.quoted_amount ? parseFloat(formData.quoted_amount) : null,\n        win_probability: parseInt(formData.win_probability) || 30,\n        customer_profile: {\n          ...(editingQuote.customer_profile || {}),\n          fullName: formData.name.trim(),\n          companyName: formData.company?.trim() || null,\n          leadScore: parseInt(formData.lead_score) || 50\n        },\n        project_details: {\n          ...(editingQuote.project_details || {}),\n          type: formData.project_type || null,\n          budgetRange: formData.budget_range || null,\n          estimatedBudget: formData.estimated_value ? parseFloat(formData.estimated_value) : null,\n          timelineCategory: formData.timeline || null,\n          location: formData.location?.trim() || null,\n          description: formData.description?.trim() || null\n        },\n        sales_tracking: {\n          ...(editingQuote.sales_tracking || {}),\n          assignedTo: formData.assigned_to || null,\n          salesStage: formData.status || 'new',\n          winProbability: parseInt(formData.win_probability) || 30\n        }\n      };\n      await updateRecord(editingQuote.id, quoteData, 'quotes');\n      setSuccess('Quote updated successfully');\n      setEditingQuote(null);\n      await loadData();\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      console.error('Failed to update quote:', error, JSON.stringify(error), error?.message, error?.stack);\n      setError('Failed to update quote. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleBackToList = () => {\n    setSelectedQuote(null);\n    setViewMode('list');\n  };\n\n  const handleViewQuote = (quote: Quote) => {\n    setSelectedQuote(quote);\n    setViewMode('detail');\n  };\n\n  const handleEditClick = (quote: Quote) => {\n    setEditingQuote(quote);\n    setShowCreateForm(false); // Only show edit form\n    setFormData({\n      name: quote.name || '',\n      email: quote.email || '',\n      phone: quote.phone || '',\n      company: quote.company || '',\n      project_type: quote.project_type || quote.project_details?.type || '',\n      budget_range: quote.budget_range || quote.project_details?.budgetRange || '',\n      timeline: quote.timeline || quote.project_details?.timelineCategory || '',\n      location: quote.location || quote.project_details?.location || '',\n      description: quote.description || quote.project_details?.description || '',\n      preferred_contact: quote.preferred_contact || 'email',\n      status: quote.status || 'new',\n      priority: quote.priority || 'medium',\n      source: quote.source || 'website',\n      assigned_to: quote.assigned_to || '',\n      follow_up_date: quote.follow_up_date || '',\n      lead_score: quote.lead_score?.toString() || '50',\n      estimated_value: quote.estimated_value?.toString() || '',\n      quoted_amount: quote.quoted_amount?.toString() || '',\n      win_probability: quote.win_probability?.toString() || '30'\n    });\n  };\n\n  const uniqueProjectTypes = [...new Set(quotes.map(q => q.project_type).filter(Boolean))];\n\n  const filteredQuotes = quotes.filter(quote => {\n    // Apply search filter\n    const matchesSearch = \n      quote.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      quote.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      quote.phone?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      quote.company?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      quote.description?.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    // Apply status filter\n    const matchesStatus = statusFilter === 'all' || quote.status === statusFilter;\n    \n    // Apply project type filter\n    const matchesProjectType = projectTypeFilter === 'all' || quote.project_type === projectTypeFilter;\n    \n    // Apply assignee filter\n    const matchesAssignee = assigneeFilter === 'all' || \n                           quote.assigned_to === assigneeFilter || \n                           quote.assigned_user?.id === assigneeFilter;\n    \n    return matchesSearch && matchesStatus && matchesProjectType && matchesAssignee;\n  });\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'new': return 'bg-blue-100 text-blue-800';\n      case 'reviewing': return 'bg-purple-100 text-purple-800';\n      case 'quoted': return 'bg-orange-100 text-orange-800';\n      case 'accepted': return 'bg-green-100 text-green-800';\n      case 'rejected': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'new': return <FileText className=\"w-4 h-4 mr-1\" />;\n      case 'reviewing': return <Search className=\"w-4 h-4 mr-1\" />;\n      case 'quoted': return <DollarSign className=\"w-4 h-4 mr-1\" />;\n      case 'accepted': return <CheckCircle className=\"w-4 h-4 mr-1\" />;\n      case 'rejected': return <XCircle className=\"w-4 h-4 mr-1\" />;\n      default: return null;\n    }\n  };\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'high': return 'text-red-600';\n      case 'medium': return 'text-orange-600';\n      case 'low': return 'text-blue-600';\n      default: return 'text-gray-600';\n    }\n  };\n\n  const formatCurrency = (value: number | string) => {\n    if (!value) return '$0';\n    const numValue = typeof value === 'string' ? parseFloat(value) : value;\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(numValue);\n  };\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return 'Not set';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', { \n      year: 'numeric', \n      month: 'short', \n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const formatBudgetRange = (range: string) => {\n    if (!range) return 'Not specified';\n    \n    const formatted = range.replace(/-/g, ' - $').replace('under', 'Under $').replace('over', 'Over $');\n    return formatted;\n  };\n\n  const formatTimeline = (timeline: string) => {\n    if (!timeline) return 'Not specified';\n    \n    const timelineMap: {[key: string]: string} = {\n      'asap': 'As Soon As Possible',\n      '1-3months': '1-3 Months',\n      '3-6months': '3-6 Months',\n      '6-12months': '6-12 Months',\n      'over-1year': 'Over 1 Year',\n      'flexible': 'Flexible'\n    };\n    \n    return timelineMap[timeline] || timeline;\n  };\n\n  const renderQuoteForm = (isCreate: boolean) => {\n    const formTitle = isCreate ? 'Add New Quote' : 'Edit Quote';\n    const submitHandler = isCreate ? handleSubmitCreate : handleSubmitEdit;\n    const cancelHandler = isCreate ? () => setShowCreateForm(false) : () => setEditingQuote(null);\n    \n    return (\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h3 className=\"text-xl font-semibold text-gray-900 flex items-center\">\n            <DollarSign className=\"w-5 h-5 mr-2 text-green-600\" />\n            {formTitle}\n          </h3>\n          <button\n            onClick={cancelHandler}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        <form onSubmit={submitHandler} className=\"space-y-6\">\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            {/* Client Information */}\n            <div className=\"md:col-span-2\">\n              <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Client Information</h4>\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                {/* Name */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Full Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleFormChange}\n                    required\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"Enter full name\"\n                  />\n                </div>\n\n                {/* Email */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Email Address *\n                  </label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleFormChange}\n                    required\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"Enter email address\"\n                  />\n                </div>\n\n                {/* Phone */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Phone Number\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"phone\"\n                    value={formData.phone}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"Enter phone number\"\n                  />\n                </div>\n\n                {/* Company */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Company\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"company\"\n                    value={formData.company}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"Enter company name\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Project Details */}\n            <div className=\"md:col-span-2\">\n              <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Project Details</h4>\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                {/* Project Type */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Project Type\n                  </label>\n                  <select\n                    name=\"project_type\"\n                    value={formData.project_type}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">Select project type</option>\n                    {projectTypes.map(type => (\n                      <option key={type} value={type}>\n                        {type.charAt(0).toUpperCase() + type.slice(1)}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Budget Range */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Budget Range\n                  </label>\n                  <select\n                    name=\"budget_range\"\n                    value={formData.budget_range}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">Select budget range</option>\n                    <option value=\"under-10000\">Under $10,000</option>\n                    <option value=\"10000-25000\">$10,000 - $25,000</option>\n                    <option value=\"25000-50000\">$25,000 - $50,000</option>\n                    <option value=\"50000-100000\">$50,000 - $100,000</option>\n                    <option value=\"100000-250000\">$100,000 - $250,000</option>\n                    <option value=\"250000-500000\">$250,000 - $500,000</option>\n                    <option value=\"over-500000\">Over $500,000</option>\n                  </select>\n                </div>\n\n                {/* Timeline */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Timeline\n                  </label>\n                  <select\n                    name=\"timeline\"\n                    value={formData.timeline}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">Select timeline</option>\n                    <option value=\"asap\">ASAP</option>\n                    <option value=\"1-3months\">1-3 months</option>\n                    <option value=\"3-6months\">3-6 months</option>\n                    <option value=\"6-12months\">6-12 months</option>\n                    <option value=\"over-1year\">Over 1 year</option>\n                    <option value=\"flexible\">Flexible</option>\n                  </select>\n                </div>\n\n                {/* Location */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Location\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"location\"\n                    value={formData.location}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"Enter project location\"\n                  />\n                </div>\n\n                {/* Description */}\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Project Description\n                  </label>\n                  <textarea\n                    name=\"description\"\n                    value={formData.description}\n                    onChange={handleFormChange}\n                    rows={4}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"Enter project description\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n\n            {/* Contact Preferences */}\n            <div>\n              <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Contact Preferences</h4>\n              <div className=\"space-y-4\">\n                {/* Preferred Contact */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Preferred Contact Method\n                  </label>\n                  <select\n                    name=\"preferred_contact\"\n                    value={formData.preferred_contact}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"email\">Email</option>\n                    <option value=\"phone\">Phone</option>\n                    <option value=\"both\">Both</option>\n                  </select>\n                </div>\n\n                {/* Source */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Source\n                  </label>\n                  <select\n                    name=\"source\"\n                    value={formData.source}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"website\">Website</option>\n                    <option value=\"phone\">Phone Call</option>\n                    <option value=\"email\">Email</option>\n                    <option value=\"referral\">Referral</option>\n                    <option value=\"social_media\">Social Media</option>\n                    <option value=\"event\">Event</option>\n                    <option value=\"other\">Other</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            {/* Quote Management */}\n            <div>\n              <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Quote Management</h4>\n              <div className=\"space-y-4\">\n                {/* Status */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Status\n                  </label>\n                  <select\n                    name=\"status\"\n                    value={formData.status}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"new\">New</option>\n                    <option value=\"reviewing\">Reviewing</option>\n                    <option value=\"quoted\">Quoted</option>\n                    <option value=\"accepted\">Accepted</option>\n                    <option value=\"rejected\">Rejected</option>\n                  </select>\n                </div>\n\n                {/* Priority */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Priority\n                  </label>\n                  <select\n                    name=\"priority\"\n                    value={formData.priority}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"low\">Low</option>\n                    <option value=\"medium\">Medium</option>\n                    <option value=\"high\">High</option>\n                  </select>\n                </div>\n\n                {/* Assigned To */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Assigned To\n                  </label>\n                  <select\n                    name=\"assigned_to\"\n                    value={formData.assigned_to}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">Unassigned</option>\n                    {Array.isArray(users) && users.map(user => (\n                      <option key={user.id} value={user.id}>\n                        {user.name} ({user.role})\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Follow-up Date */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Follow-up Date\n                  </label>\n                  <input\n                    type=\"datetime-local\"\n                    name=\"follow_up_date\"\n                    value={formData.follow_up_date}\n                    onChange={handleFormChange}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Quote Details */}\n            <div>\n              <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Quote Details</h4>\n              <div className=\"space-y-4\">\n                {/* Estimated Value */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Estimated Value\n                  </label>\n                  <div className=\"relative\">\n                    <DollarSign className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n                    <input\n                      type=\"number\"\n                      name=\"estimated_value\"\n                      value={formData.estimated_value}\n                      onChange={handleFormChange}\n                      min=\"0\"\n                      className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Enter estimated value\"\n                    />\n                  </div>\n                </div>\n\n                {/* Quoted Amount */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Quoted Amount\n                  </label>\n                  <div className=\"relative\">\n                    <DollarSign className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n                    <input\n                      type=\"number\"\n                      name=\"quoted_amount\"\n                      value={formData.quoted_amount}\n                      onChange={handleFormChange}\n                      min=\"0\"\n                      className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Enter quoted amount\"\n                    />\n                  </div>\n                </div>\n\n                {/* Win Probability */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Win Probability (0-100%)\n                  </label>\n                  <input\n                    type=\"number\"\n                    name=\"win_probability\"\n                    value={formData.win_probability}\n                    onChange={handleFormChange}\n                    min=\"0\"\n                    max=\"100\"\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"Enter win probability\"\n                  />\n                </div>\n\n                {/* Lead Score */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Lead Score (0-100)\n                  </label>\n                  <input\n                    type=\"number\"\n                    name=\"lead_score\"\n                    value={formData.lead_score}\n                    onChange={handleFormChange}\n                    min=\"0\"\n                    max=\"100\"\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"Enter lead score\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"flex items-center justify-end space-x-4\">\n            <button\n              type=\"button\"\n              onClick={cancelHandler}\n              className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400\"\n            >\n              {isLoading ? (\n                <>\n                  <span className=\"inline-block w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2\"></span>\n                  {isCreate ? 'Creating...' : 'Saving...'}\n                </>\n              ) : (\n                <>\n                  <Save className=\"w-4 h-4 mr-2 inline\" />\n                  {isCreate ? 'Add Quote' : 'Save Changes'}\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  };\n\n  const renderQuoteDetail = () => {\n    if (!selectedQuote) return null;\n    \n    return (\n      <div className=\"space-y-6\">\n        {/* Header with back button */}\n        <div className=\"flex items-center mb-6\">\n          <button\n            onClick={handleBackToList}\n            className=\"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">{selectedQuote.name}</h2>\n            <p className=\"text-gray-600\">{selectedQuote.email} â€¢ {selectedQuote.phone || 'No phone'}</p>\n          </div>\n        </div>\n        \n        {/* Quote Details */}\n      <div className=\"grid lg:grid-cols-3 gap-8\">\n          {/* Client Information */}\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n              <User className=\"w-5 h-5 mr-2 text-blue-600\" />\n              Client Information\n            </h3>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <p className=\"text-sm text-gray-500\">Full Name</p>\n                <p className=\"text-sm font-medium text-gray-900\">\n                  {selectedQuote.name}\n                </p>\n              </div>\n              \n              <div>\n                <p className=\"text-sm text-gray-500\">Email Address</p>\n                <p className=\"text-sm font-medium text-gray-900 flex items-center\">\n                  <Mail className=\"w-4 h-4 mr-1 text-gray-400\" />\n                  {selectedQuote.email}\n                </p>\n              </div>\n              \n              <div>\n                <p className=\"text-sm text-gray-500\">Phone Number</p>\n                <p className=\"text-sm font-medium text-gray-900 flex items-center\">\n                  <Phone className=\"w-4 h-4 mr-1 text-gray-400\" />\n                  {selectedQuote.phone || 'Not provided'}\n                </p>\n              </div>\n              \n              <div>\n                <p className=\"text-sm text-gray-500\">Company</p>\n                <p className=\"text-sm font-medium text-gray-900 flex items-center\">\n                  <Building2 className=\"w-4 h-4 mr-1 text-gray-400\" />\n                  {selectedQuote.company || 'Not provided'}\n                </p>\n              </div>\n              \n              <div>\n                <p className=\"text-sm text-gray-500\">Preferred Contact</p>\n                <p className=\"text-sm font-medium text-gray-900 capitalize\">\n                  {selectedQuote.preferred_contact || 'Email'}\n                </p>\n              </div>\n              \n              <div>\n                <p className=\"text-sm text-gray-500\">Source</p>\n                <p className=\"text-sm font-medium text-gray-900 capitalize\">\n                  {selectedQuote.source || 'Website'}\n                </p>\n              </div>\n            </div>\n          </div>\n          \n          {/* Project Details */}\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n              <Building2 className=\"w-5 h-5 mr-2 text-green-600\" />\n              Project Details\n            </h3>\n\n            <div className=\"space-y-4\">\n              <div>\n                <p className=\"text-sm text-gray-500\">Project Type</p>\n                <p className=\"text-sm font-medium text-gray-900 capitalize\">\n                  {selectedQuote.project_details?.type || 'Not specified'}\n                </p>\n              </div>\n       \n              <div>\n                <p className=\"text-sm text-gray-500\">Budget Range</p>\n                <p className=\"text-sm font-medium text-gray-900\">\n                  {formatBudgetRange(selectedQuote.project_details?.budgetRange || '')}\n                </p>\n              </div>\n\n              <div>\n                <p className=\"text-sm text-gray-500\">Timeline</p>\n                <p className=\"text-sm font-medium text-gray-900\">\n                  {formatTimeline(selectedQuote.project_details?.timelineCategory || '')}\n                </p>\n              </div>\n\n              <div>\n                <p className=\"text-sm text-gray-500\">Location</p>\n                <p className=\"text-sm font-medium text-gray-900 flex items-center\">\n                  <MapPin className=\"w-4 h-4 mr-1 text-gray-400\" />\n                  {selectedQuote.project_details?.location || 'Not specified'}\n                </p>\n              </div>\n\n              <div>\n                <p className=\"text-sm text-gray-500\">Description</p>\n                <div className=\"text-sm text-gray-900 bg-gray-50 p-3 rounded-lg\">\n                  {selectedQuote.project_details?.description || 'No description provided'}\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Quote Management */}\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n              <DollarSign className=\"w-5 h-5 mr-2 text-orange-600\" />\n              Quote Management\n            </h3>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <p className=\"text-sm text-gray-500\">Status</p>\n                <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(selectedQuote.status)}`}>\n                  {getStatusIcon(selectedQuote.status)}\n                  {selectedQuote.status || 'New'}\n                </span>\n              </div>\n              \n              <div>\n                <p className=\"text-sm text-gray-500\">Priority</p>\n                <p className={`text-sm font-medium ${getPriorityColor(selectedQuote.priority || '')} capitalize`}>\n                  {selectedQuote.priority || 'Medium'}\n                </p>\n              </div>\n              \n              <div>\n                <p className=\"text-sm text-gray-500\">Assigned To</p>\n                <p className=\"text-sm font-medium text-gray-900\">\n                  {selectedQuote.assigned_user?.name || 'Unassigned'}\n                </p>\n              </div>\n              \n              <div>\n                <p className=\"text-sm text-gray-500\">Follow-up Date</p>\n                <p className=\"text-sm font-medium text-gray-900 flex items-center\">\n                  <Calendar className=\"w-4 h-4 mr-1 text-gray-400\" />\n                  {selectedQuote.follow_up_date ? formatDate(selectedQuote.follow_up_date) : 'Not scheduled'}\n                </p>\n              </div>\n              \n              <div className=\"pt-4 border-t border-gray-200\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className=\"text-xs text-gray-500\">Estimated Value</p>\n                    <p className=\"text-lg font-bold text-gray-900\">\n                      {formatCurrency(selectedQuote.estimated_value || 0)}\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-xs text-gray-500\">Quoted Amount</p>\n                    <p className=\"text-lg font-bold text-green-600\">\n                      {formatCurrency(selectedQuote.quoted_amount || 0)}\n                    </p>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <p className=\"text-xs text-gray-500\">Win Probability</p>\n                  <div className=\"flex items-center\">\n                    <div className=\"w-full bg-gray-200 rounded-full h-2.5 mr-2\">\n                      <div \n                        className=\"bg-green-600 h-2.5 rounded-full\" \n                        style={{ width: `${selectedQuote.win_probability || 0}%` }}\n                      ></div>\n                    </div>\n                    <span className=\"text-xs font-medium text-gray-900\">{selectedQuote.win_probability || 0}%</span>\n                  </div>\n                </div>\n                <div>\n                  <p className=\"text-xs text-gray-500\">Lead Score</p>\n                  <div className=\"flex items-center\">\n                    <div className=\"w-full bg-gray-200 rounded-full h-2.5 mr-2\">\n                      <div \n                        className=\"bg-blue-600 h-2.5 rounded-full\" \n                        style={{ width: `${selectedQuote.lead_score || 0}%` }}\n                      ></div>\n                    </div>\n                    <span className=\"text-xs font-medium text-gray-900\">{selectedQuote.lead_score || 0}</span>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"pt-4 border-t border-gray-200\">\n                <div className=\"flex justify-end space-x-2\">\n                  <button\n                    onClick={() => handleEditClick(selectedQuote)}\n                    className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium flex items-center\"\n                  >\n                    <Edit className=\"w-4 h-4 mr-1\" />\n                    Edit Quote\n                  </button>\n                  <button\n                    onClick={() => handleDeleteClick(selectedQuote)}\n                    className=\"px-3 py-1 bg-red-100 text-red-700 rounded-lg text-sm font-medium flex items-center\"\n                  >\n                    <Trash2 className=\"w-4 h-4 mr-1\" />\n                    Delete\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Quick Actions */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quick Actions</h3>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <button className=\"bg-green-50 hover:bg-green-100 p-4 rounded-lg transition-colors flex flex-col items-center text-center\">\n              <FileText className=\"w-6 h-6 text-green-600 mb-2\" />\n              <span className=\"text-sm font-medium text-gray-900\">Generate Quote</span>\n            </button>\n            <button className=\"bg-blue-50 hover:bg-blue-100 p-4 rounded-lg transition-colors flex flex-col items-center text-center\">\n              <Mail className=\"w-6 h-6 text-blue-600 mb-2\" />\n              <span className=\"text-sm font-medium text-gray-900\">Send Email</span>\n            </button>\n            <button className=\"bg-purple-50 hover:bg-purple-100 p-4 rounded-lg transition-colors flex flex-col items-center text-center\">\n              <Calendar className=\"w-6 h-6 text-purple-600 mb-2\" />\n              <span className=\"text-sm font-medium text-gray-900\">Schedule Meeting</span>\n            </button>\n            <button className=\"bg-orange-50 hover:bg-orange-100 p-4 rounded-lg transition-colors flex flex-col items-center text-center\">\n              <Building2 className=\"w-6 h-6 text-orange-600 mb-2\" />\n              <span className=\"text-sm font-medium text-gray-900\">Create Project</span>\n            </button>\n          </div>\n        </div>\n        \n        {/* Quote History */}\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <Clock className=\"w-5 h-5 mr-2 text-blue-600\" />\n              Quote History\n            </h3>\n          </div>\n          \n          <div className=\"text-center py-8\">\n            <Clock className=\"w-12 h-12 text-gray-300 mx-auto mb-2\" />\n            <p className=\"text-gray-500 mb-4\">No quote history available</p>\n            <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium\">\n              Add Quote Revision\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Only render one form at a time\n  const renderForms = () => {\n    if (editingQuote) return renderQuoteForm(false);\n    if (showCreateForm) return renderQuoteForm(true);\n    return null;\n  };\n\n  // Don't render on server-side to prevent hydration issues\n  if (!isClient) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-8 h-8 border-2 border-green-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading Quote Management...</p>\n        </div>\n      </div>\n    );\n  } \n\n  const handleExportQuotes = () => {\n    if (filteredQuotes.length === 0) return;\n\n    const csvRows: string[] = [];\n    csvRows.push([\n      \"ID\",\n      \"Name\",\n      \"Email\",\n      \"Phone\",\n      \"Company\",\n      \"Project Type\",\n      \"Budget Range\",\n      \"Timeline\",\n      \"Location\",\n      \"Description\",\n      \"Preferred Contact\",\n      \"Status\",\n      \"Priority\",\n      \"Source\",\n      \"Assigned To\",\n      \"Follow Up Date\",\n      \"Lead Score\",\n      \"Estimated Value\",\n      \"Quoted Amount\",\n      \"Win Probability\"\n    ].join(\",\"));\n\n    filteredQuotes.forEach(q => {\n      csvRows.push([\n        q.id,\n        q.name,\n        q.email,\n        q.phone || \"\",\n        q.company || \"\",\n        q.project_type || \"\",\n        q.budget_range || \"\",\n        q.timeline || \"\",\n        q.location || \"\",\n        (q.description || \"\").replace(/\"/g, '\"\"'),\n        q.preferred_contact || \"\",\n        q.status || \"\",\n        q.priority || \"\",\n        q.assigned_user?.name || q.assigned_to || \"\",\n        q.follow_up_date || \"\",\n        q.lead_score?.toString() || \"\",\n        q.estimated_value?.toString() || \"\",\n        q.quoted_amount?.toString() || \"\",\n        q.win_probability?.toString() || \"\"\n      ].map(val => `\"${val}\"`).join(\",\"));\n    });\n\n    const blob = new Blob([csvRows.join(\"\\n\")], { type: \"text/csv;charset=utf-8;\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.setAttribute(\"href\", url);\n    a.setAttribute(\"download\", \"quotes.csv\");\n    a.style.visibility = \"hidden\";\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n  };\n\n  if (viewMode === 'detail') {\n    return renderQuoteDetail();\n  }\n\n  return (\n    <div>\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-8\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Quote Management</h1>\n          <p className=\"text-gray-600\">\n            Manage project quotes and estimates\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n       \n          <button\n            onClick={handleCreateClick}\n            className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-2\"\n          >\n            <Plus size={18} /> Add New Quote\n          </button>\n             <button\n            onClick={handleExportQuotes}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2\"\n            disabled={filteredQuotes.length === 0}\n          >\n            <Download size={18} /> Export CSV\n          </button>\n        </div>\n      </div>\n\n      {/* Success Message */}\n      {success && (\n        <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6 flex items-center\">\n          <CheckCircle className=\"w-5 h-5 mr-2\" />\n          <span>{success}</span>\n        </div>\n      )}\n\n      {/* Only one form at a time */}\n      {renderForms()}\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6\">\n         <div className=\"grid lg:grid-cols-4 gap-8\">\n          {/* Search */}\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search quotes...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n          </div>\n\n          {/* Status Filter */}\n          <div>\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"all\">All Statuses</option>\n              <option value=\"new\">New</option>\n              <option value=\"reviewing\">Reviewing</option>\n              <option value=\"quoted\">Quoted</option>\n              <option value=\"accepted\">Accepted</option>\n              <option value=\"rejected\">Rejected</option>\n            </select>\n          </div>\n\n          {/* Project Type Filter */}\n          <div>\n            <select\n              value={projectTypeFilter}\n              onChange={(e) => setProjectTypeFilter(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"all\">All Project Types</option>\n              {uniqueProjectTypes.map(type => (\n                <option key={type} value={type}>\n                  {type?.charAt(0).toUpperCase() + type?.slice(1)}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Assignee Filter */}\n          <div>\n            <select\n              value={assigneeFilter}\n              onChange={(e) => setAssigneeFilter(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"all\">All Assignees</option>\n              <option value=\"\">Unassigned</option>\n              {Array.isArray(users) && users.map(user => (\n                <option key={user.id} value={user.id}>\n                  {user.name}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Delete Confirmation Modal */}\n      {deleteConfirmModalOpen && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\">\n          <div className=\"bg-white rounded-lg shadow-lg max-w-sm w-full p-6\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Delete Quote</h2>\n            <p className=\"text-sm text-gray-700 mb-6\">\n              Are you sure you want to delete <strong>{quoteToDelete?.name}</strong>? This action cannot be undone.\n            </p>\n            <div className=\"flex justify-end space-x-4\">\n              <button\n                onClick={() => setDeleteConfirmModalOpen(false)}\n                className=\"px-4 py-2 text-sm text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={confirmDelete}\n                className=\"px-4 py-2 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg\"\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Quotes Table */}\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200\">\n        {isLoading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <div className=\"text-center\">\n              <div className=\"w-8 h-8 border-2 border-green-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n              <p className=\"text-gray-600\">Loading quotes...</p>\n            </div>\n          </div>\n        ) : filteredQuotes.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center h-64\">\n            <DollarSign className=\"w-12 h-12 text-gray-300 mb-4\" />\n            <p className=\"text-gray-600 mb-2\">No quotes found</p>\n            <p className=\"text-gray-500 text-sm mb-4\">Try adjusting your filters or add a new quote</p>\n            <button\n              onClick={handleCreateClick}\n              className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center\"\n            >\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Add New Quote\n            </button>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50 border-b border-gray-200\">\n                <tr>\n                  <th className=\"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider\">Client</th>\n                  <th className=\"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider\">Project Type</th>\n                  <th className=\"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n                  <th className=\"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider\">Budget Range</th>\n                  <th className=\"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider\">Quoted Amount</th>\n                  <th className=\"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider\">Win Probability</th>\n                  <th className=\"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200\">\n                {filteredQuotes.map((quote) => (\n                  <tr key={quote.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-start\">\n                        <div className=\"ml-4\">\n                          <div \n                            className=\"text-sm font-medium text-blue-600 hover:text-blue-800 cursor-pointer\"\n                            onClick={() => handleViewQuote(quote)}\n                          >\n                            {quote.name}\n                          </div>\n                          <div className=\"text-xs text-gray-500\">{quote.email}</div>\n                          {quote.company && (\n                            <div className=\"text-xs text-gray-500\">{quote.company}</div>\n                          )}\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize\">\n                      {quote.project_type || 'Not specified'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(quote.status)}`}>\n                        {getStatusIcon(quote.status)}\n                        {quote.status}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {formatBudgetRange(quote.budget_range || '')}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium\">\n                      {quote.quoted_amount ? formatCurrency(quote.quoted_amount) : 'Not quoted'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className=\"w-16 bg-gray-200 rounded-full h-2.5\">\n                          <div \n                            className=\"bg-green-600 h-2.5 rounded-full\" \n                            style={{ width: `${quote.win_probability || 0}%` }}\n                          ></div>\n                        </div>\n                        <span className=\"ml-2 text-xs font-medium text-gray-900\">{quote.win_probability || 0}%</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => handleViewQuote(quote)}\n                          className=\"text-blue-600 hover:text-blue-900\"\n                        >\n                          <Eye className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleEditClick(quote)}\n                          className=\"text-blue-600 hover:text-blue-900\"\n                        >\n                          <Edit className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleDeleteClick(quote)}\n                          className=\"text-red-600 hover:text-red-900\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody> \n            </table>\n            \n          </div>\n        )}\n      </div>\n      \n    </div>\n  );\n};\n\nexport default QuoteManagement;"],"names":[],"mappings":"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","debugId":null}}]
}